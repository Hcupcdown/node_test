(function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={index:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),a=n.n(i);a.a},"0b0e":function(e,t,n){"use strict";var i=n("d7c2"),a=n.n(i);a.a},"0f5e":function(e,t,n){},"14fc":function(e,t,n){"use strict";var i=n("23c3"),a=n.n(i);a.a},"1e04":function(e,t,n){"use strict";n("d3b7");var i=n("bc3a"),a=n.n(i),r=n("c0d6"),s=a.a.create({baseURL:"http://139.180.145.219:54188/"});s.interceptors.request.use((function(e){return r["a"].commit("SET_LOADING",!0),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return r["a"].commit("SET_LOADING",!1),e.data}),(function(e){return Promise.reject(e)})),t["a"]=s},"23c3":function(e,t,n){},"2b82":function(e,t,n){"use strict";var i=n("3e63"),a=n.n(i);a.a},"3e63":function(e,t,n){},"3f35":function(e,t,n){"use strict";var i=n("819b"),a=n.n(i);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.$store.state.loading,expression:"$store.state.loading"}],attrs:{id:"app","element-loading-background":"rgba(255,255,255,0.3)","element-loading-text":"冲冲冲！"}},[n("transition",{attrs:{name:"flow",appear:""}},[n("router-view")],1)],1)},r=[],s={name:"app"},o=s,c=(n("034f"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,null,null),u=l.exports,d=n("5c96"),p=n.n(d),f=(n("0fae"),n("8c4f")),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"login__wrapper"},[n("h1",{staticClass:"login__title"},[e._v("登录")]),n("div",{staticClass:"login__form"},[n("el-form",{ref:"form",attrs:{model:e.form}},[n("el-form-item",{attrs:{prop:"account",rules:[{required:!0,message:"账号不能为空"}]}},[n("el-input",{attrs:{placeholder:"账号",type:"account",autocomplete:"off"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",e._n(t))},expression:"form.account"}})],1),n("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:"密码不能为空"}]}},[n("el-input",{attrs:{placeholder:"密码",type:"password","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",e._n(t))},expression:"form.password"}})],1),n("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("登录")])],1)],1)])])},m=[],v=(n("d3b7"),n("96cf"),n("1e04"));function b(e){return v["a"].post("/login",e)}var _={name:"Login",props:{},data:function(){return{form:{account:"",password:""}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){var n,i,a,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=15;break}return s.prev=1,t.form.account=t.form.account+"",t.form.password=t.form.password+"",s.next=6,regeneratorRuntime.awrap(b(t.form));case 6:n=s.sent,i=n.code,a=n.msg,r=n.data,200===i?(t.$store.commit("SET_USER_ID",r.userId),t.$message({type:"success",message:a}),t.$router.push("/home")):t.$message({type:"error",message:a}),s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](1),t.$message({type:"error",message:s.t0.message}),console.error(s.t0);case 15:case"end":return s.stop()}}),null,null,[[1,11]])}))}}},g=_,x=(n("ef7d"),Object(c["a"])(g,h,m,!1,null,"5ab22e26",null)),k=x.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"menu"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"}},[e._v("我的项目")]),n("el-menu-item",{attrs:{index:"2",disabled:""}},[e._v("免费模版")])],1)],1),n("div",{staticClass:"controler"},[n("router-link",{attrs:{to:"./edit"}},[n("el-button",{staticClass:"controler__btn-1",attrs:{type:"primary",size:"medium"}},[e._v("新建项目+")])],1)],1),n("div",{staticClass:"list"},[n("QuestionnaireList",{attrs:{list:e.questionnaireList}})],1)])},C=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"questionnaire-list"},e._l(e.list,(function(t){return n("QuestionnaireListItem",{key:t.id,attrs:{data:t},on:{delete:e.deleteItem}})})),1)},q=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"questionnaire-list-item"},[n("span",{staticClass:"questionnaire-list-item__title"},[e._v(e._s(e.data.title))]),n("div",{staticClass:"questionnaire-list-item__controler"},[n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:e.preview}},[e._v("预览")]),n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:e.checkData}},[e._v("数据")]),n("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:e.deleteSelf}},[e._v("删除")])],1)])},E=[],$=n("78d4"),L={name:"QuestionnaireListItem",props:{data:{type:Object,default:function(){return{title:"标题",id:0}}}},methods:{loadQn:function(){var e,t,n,i,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=this.data.id,r.next=3,regeneratorRuntime.awrap(Object($["a"])({qnId:e}));case 3:t=r.sent,n=t.code,i=t.msg,a=t.data,200===n?(this.$store.commit("SET_QUESTIONNAIRE",a),this.$router.push("/preview")):this.$message({type:"error",message:i});case 6:case"end":return r.stop()}}),null,this)},preview:function(){this.loadQn()},checkData:function(){this.$store.commit("SET_CURRENT_QNID",this.data.id),this.$router.push("/visualize")},deleteSelf:function(){this.$emit("delete",this.data)}}},O=L,Q=(n("2b82"),Object(c["a"])(O,I,E,!1,null,"7f31079f",null)),T=Q.exports;function S(e){return v["a"].post("/delete-qn",e)}function N(e){return v["a"].get("/get-qn-list",{params:e})}var R={name:"QuestionnaireList",components:{QuestionnaireListItem:T},props:{list:{type:Array,default:function(){return[]}}},methods:{deleteItem:function(e){var t,n,i,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t=e.id,r.prev=1,r.next=4,regeneratorRuntime.awrap(S({qnId:t}));case 4:if(n=r.sent,i=n.code,a=n.msg,200!==i){r.next=12;break}return this.$message({type:"success",message:a}),r.next=10,regeneratorRuntime.awrap(this.loadQnList());case 10:r.next=13;break;case 12:this.$message({type:"error",message:a});case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),this.$message({type:"error",message:r.t0.message});case 18:this.$store.commit("REMOVE_QUESTIONNAIRE_LIST",t);case 19:case"end":return r.stop()}}),null,this,[[1,15]])},loadQnList:function(){var e,t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e=this.$store.state.user.userId,n.next=4,regeneratorRuntime.awrap(N({userId:e}));case 4:t=n.sent,this.$store.commit("SET_QUESTIONNAIRE_LIST",t.qnList),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:case"end":return n.stop()}}),null,this,[[0,8]])}}},j=R,D=(n("14fc"),Object(c["a"])(j,w,q,!1,null,"1a07808e",null)),A=D.exports,M={name:"Home",components:{QuestionnaireList:A},created:function(){this.loadQnList(),this.$store.commit("SET_QUESTIONNAIRE",null)},computed:{questionnaireList:function(){return this.$store.state.user.questionnaireList}},methods:{handle:function(){this.$store.commit("SET_NUMBER")},loadQnList:function(){var e,t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e=this.$store.state.user.userId,n.next=4,regeneratorRuntime.awrap(N({userId:e}));case 4:t=n.sent,this.$store.commit("SET_QUESTIONNAIRE_LIST",t.qnList),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:case"end":return n.stop()}}),null,this,[[0,8]])}}},U=M,P=(n("8b4a"),Object(c["a"])(U,y,C,!1,null,"b8f626d4",null)),z=P.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"visualize"},[n("div",{staticClass:"header"},[n("el-page-header",{attrs:{content:"数据分析"},on:{back:function(){return e.$router.back()}}})],1),n("div",{staticClass:"charts-container"},[e._l(e.chartDatas,(function(t,i){return[n("div",{key:i,staticClass:"charts-wrapper"},[n("el-dropdown",{on:{command:function(t){return e.changeChartType(t,i)}}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" 下拉菜单 "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"bar"}},[e._v("条形图")]),n("el-dropdown-item",{attrs:{command:"pie"}},[e._v("饼图")])],1)],1),"bar"===e.chartTypes[i]?n("BarChart",{attrs:{chartData:t}}):"pie"===e.chartTypes[i]?n("PieChart",{attrs:{chartData:t}}):e._e()],1)]}))],2)])},F=[],V=(n("d81d"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bar-chart"},[n("chart",{attrs:{options:e.options}})],1)}),G=[],H=(n("a15b"),n("2909")),J=(n("94b1"),n("627c"),n("007d"),{name:"BarChart",props:{chartData:{type:Object,default:function(){return{title:"该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题?",data:[{value:10,name:"A"},{value:90,name:"B"},{value:202,name:"C"},{value:430,name:"D"},{value:22,name:"F"},{value:1290,name:"G"}]}}}},data:function(){return{options:{title:{text:Object(H["a"])(this.chartData.title).map((function(e,t){return t%30>=29?"".concat(e,"\n"):e})).join(""),x:"center",textStyle:{fontSize:14,lineHeight:20}},tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.chartData.data.map((function(e){return e.name})),axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{type:"bar",barWidth:"50%",barGap:0,data:this.chartData.data.map((function(e){return e.value}))}]}}}}),W=J,X=Object(c["a"])(W,V,G,!1,null,"88e76610",null),K=X.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bar-chart"},[n("chart",{attrs:{options:e.options}})],1)},Z=[],ee=(n("c037"),n("0b4b"),{name:"BarChart",props:{chartData:{type:Object,default:function(){return{title:"该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题目该数据对应的题?",data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]}}}},data:function(){return{options:{title:{text:Object(H["a"])(this.chartData.title).map((function(e,t){return t%30>=29?"".concat(e,"\n"):e})).join(""),x:"center",textStyle:{fontSize:14,lineHeight:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:0,top:30},series:[{name:"选项",type:"pie",radius:"55%",center:["50%","50%"],data:this.chartData.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}}),te=ee,ne=Object(c["a"])(te,Y,Z,!1,null,"48faf0b6",null),ie=ne.exports;function ae(e){return v["a"].get("/get-qn-data",{params:e})}var re={components:{BarChart:K,PieChart:ie},name:"Visualize",data:function(){return{chartDatas:[],chartTypes:[]}},created:function(){this.loadChartData()},watch:{chartDatas:function(e){this.chartTypes=e.map((function(e){return Math.random()>.5?"bar":"pie"}))},"$store.state.currentQnId":function(){this.loadChartData()}},methods:{loadChartData:function(){var e,t,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e=this.$store.state.currentQnId,i.next=4,regeneratorRuntime.awrap(ae({qnId:e}));case 4:t=i.sent,t.code,t.msg,n=t.data,this.chartDatas=n.chartDatas,i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](0),console.error(i.t0);case 12:case"end":return i.stop()}}),null,this,[[0,9]])},changeChartType:function(e,t){this.chartTypes.splice(t,1,e)}}},se=re,oe=(n("64b7"),Object(c["a"])(se,B,F,!1,null,"5c3d82fe",null)),ce=oe.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit"},[n("div",{staticClass:"header"},[n("el-page-header",{attrs:{content:"问卷编辑"},on:{back:function(){return e.$router.back()}}})],1),n("div",{staticClass:"QN__header"},[n("div",{staticClass:"QN__title"},[e.titleEditing?n("el-input",{ref:"inputTitleDOM",staticClass:"el-input__inner",attrs:{placeholder:e.questionnaire.title},on:{blur:function(t){e.titleEditing=!1}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.titleEditing=!1}},model:{value:e.questionnaire.title,callback:function(t){e.$set(e.questionnaire,"title",t)},expression:"questionnaire.title"}}):n("h1",{on:{click:e.handleTitleClick}},[e._v(e._s(e.questionnaire.title))])],1)]),n("div",{staticClass:"QN__questions"},e._l(e.questionnaire.questions,(function(t,i){return n("div",{key:i,staticClass:"QN__question",on:{mouseover:function(){e.hoverQuestion=!0,e.activeQuestionIndex=i},mouseout:function(t){e.hoverQuestion=!1}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.hoverQuestion&&e.activeQuestionIndex===i,expression:"hoverQuestion && activeQuestionIndex === i"}],staticClass:"el-icon-delete delete-icon",on:{click:function(t){return e.deleteQuestion(i)}}}),e.questionTitleEditing&&e.currentQuestionTitleIndex===""+i?n("el-input",{ref:"title"+i,refInFor:!0,attrs:{placeholder:t.title},on:{blur:function(t){e.questionTitleEditing=!1}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.questionTitleEditing=!1}},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"question.title"}}):n("p",{on:{click:function(t){return e.handleQuestionTitleClick(""+i,"title"+i)}}},[e._v(e._s(t.title))]),"radio"===t.type?n("div",[n("el-radio-group",{staticClass:"el-radio-group",model:{value:t.radio,callback:function(n){e.$set(t,"radio",n)},expression:"question.radio"}},e._l(t.labels,(function(a,r){return n("div",{key:r,staticClass:"lable-wrapper",on:{mouseenter:function(t){e.hoverLabel=!0,e.activeLableIndex=""+i+r},mouseleave:function(t){e.hoverLabel=!1}}},[e.radioEditing&&e.currentRadioIndex===""+i+r?n("el-input",{ref:"DOM"+i+r,refInFor:!0,attrs:{placeholder:a},on:{blur:function(t){e.radioEditing=!1}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.radioEditing=!1}},model:{value:t.labels[r],callback:function(n){e.$set(t.labels,r,n)},expression:"question.labels[j]"}}):n("el-radio",{staticClass:"el-radio",attrs:{label:a},nativeOn:{click:function(t){return e.handleRadioClick(""+i+r,"DOM"+i+r)}}},[e._v(e._s(a))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverLabel&&e.activeLableIndex===""+i+r,expression:"hoverLabel && activeLableIndex === `${i}${j}`"}],staticClass:"label-operation"},[n("i",{staticClass:"el-icon-remove remove-label-icon",on:{click:function(t){return e.removeLable(i,r)}}}),n("i",{staticClass:"el-icon-circle-plus add-label-icon",on:{click:function(t){return e.addLable(i,r)}}})])],1)})),0)],1):"checkbox"===t.type?n("div",[n("el-checkbox-group",{model:{value:t.checkList,callback:function(n){e.$set(t,"checkList",n)},expression:"question.checkList"}},e._l(t.labels,(function(a,r){return n("div",{key:r,staticClass:"lable-wrapper",on:{mouseenter:function(t){e.hoverLabel=!0,e.activeLableIndex=""+i+r},mouseleave:function(t){e.hoverLabel=!1}}},[e.checkboxEditing&&e.currentCheckboxIndex===""+i+r?n("el-input",{ref:"DOM"+i+r,refInFor:!0,attrs:{placeholder:a},on:{blur:function(t){e.checkboxEditing=!1}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.checkboxEditing=!1}},model:{value:t.labels[r],callback:function(n){e.$set(t.labels,r,n)},expression:"question.labels[j]"}}):n("el-checkbox",{staticClass:"el-checkbox",attrs:{label:a},nativeOn:{click:function(t){return e.handleCheckboxClick(""+i+r,"DOM"+i+r)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverLabel&&e.activeLableIndex===""+i+r,expression:"hoverLabel && activeLableIndex === `${i}${j}`"}],staticClass:"label-operation"},[n("i",{staticClass:"el-icon-remove remove-label-icon",on:{click:function(t){return e.removeLable(i,r)}}}),n("i",{staticClass:"el-icon-circle-plus add-label-icon",on:{click:function(t){return e.addLable(i,r)}}})])],1)})),0)],1):e._e()],1)})),0),n("div",{staticClass:"operation"},[n("el-dropdown",{on:{command:e.addQuestion}},[n("el-button",{attrs:{type:"primary"}},[e._v(" 添加题目 "),n("i",{staticClass:"el-icon-circle-plus el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"radio"}},[e._v("单选题")]),n("el-dropdown-item",{attrs:{command:"checkbox"}},[e._v("多选题")])],1)],1),n("el-button-group",[n("el-button",{staticClass:"release-button",attrs:{type:"primary"},on:{click:e.preview}},[e._v("预览")]),n("el-button",{staticClass:"release-button",attrs:{type:"primary"},on:{click:e.release}},[e._v("发布")])],1)],1),n("el-dialog",{attrs:{title:"分享问卷",visible:e.dialogVisible,width:"25rem"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.$router.replace("/home")}}},[n("div",{staticClass:"qr-wrapper"},[n("div",{staticClass:"cell"},[n("qrcode",{attrs:{value:e.releaseInfo.url,options:{width:200}}})],1),n("div",{staticClass:"cell"},[n("a",{attrs:{href:e.releaseInfo.url}},[e._v(e._s(e.releaseInfo.url))])])])])],1)},ue=[];n("4de4");function de(e){return v["a"].post("/create-qn",e)}var pe=function(e){var t={radio:{type:"radio",title:"你可以添加单选题？",radio:"",labels:["选项-1","选项-2","选项-3"]},checkbox:{type:"checkbox",title:"你也可以添加多选题？",checkList:[],labels:["选项-1","选项-2","选项-3"]},texteare:{type:"texteare",title:"我没告诉你这是个填空题？",value:"描述你的想法"}};return t[e]},fe={components:{},name:"Edit",props:{},data:function(){return{titleEditing:!1,subtitleEditing:!1,radioEditing:!1,checkboxEditing:!1,questionTitleEditing:!1,hoverQuestion:!1,hoverLabel:!1,currentRadioIndex:"",currentCheckboxIndex:"",currentTitleIndex:"",currentQuestionTitleIndex:"",activeQuestionIndex:0,activeLableIndex:"",questionnaire:this.$store.state.questionnaire||{title:"这是一个正常的标题",questions:[pe("radio"),pe("checkbox")]},dialogVisible:!1,releaseInfo:{url:""}}},methods:{handleTitleClick:function(){var e=this;this.titleEditing=!0,this.$nextTick((function(){e.$refs.inputTitleDOM.focus()}))},handleSubtitleClick:function(){var e=this;this.subtitleEditing=!0,this.$nextTick((function(){e.$refs.inputSubtitleDOM.focus()}))},handleRadioClick:function(e,t){var n=this;this.radioEditing=!0,this.currentRadioIndex=e,this.$nextTick((function(){n.$refs[t][0].focus()}))},handleCheckboxClick:function(e,t){var n=this;this.checkboxEditing=!0,this.currentCheckboxIndex=e,this.$nextTick((function(){n.$refs[t][0].focus()}))},handleQuestionTitleClick:function(e,t){var n=this;this.questionTitleEditing=!0,this.currentQuestionTitleIndex=e,this.$nextTick((function(){n.$refs[t][0].focus()}))},deleteQuestion:function(e){this.questionnaire.questions=this.questionnaire.questions.filter((function(t,n){return n!==e}))},addLable:function(e,t){this.questionnaire.questions[e].labels.splice(t+1,0,"新增选项")},removeLable:function(e,t){this.questionnaire.questions[e].labels.splice(t,1)},addQuestion:function(e){this.questionnaire.questions.push(pe(e))},release:function(){var e,t,n,i,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e=this.$store.state.user.userId,r.next=4,regeneratorRuntime.awrap(de({questionnaire:this.questionnaire,userId:e}));case 4:t=r.sent,n=t.code,i=t.msg,a=t.data,200===n?(this.releaseInfo.url=a.url,this.dialogVisible=!0,this.$message({type:"success",message:i})):this.$message({type:"error",message:i}),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),this.$message({type:"error",message:r.t0.message}),console.error(r.t0);case 13:case"end":return r.stop()}}),null,this,[[0,9]])},preview:function(){this.$store.commit("SET_QUESTIONNAIRE",this.questionnaire),this.$router.push("/preview")}}},he=fe,me=(n("0b0e"),Object(c["a"])(he,le,ue,!1,null,"2b7e1a9c",null)),ve=me.exports,be=n("a9df"),_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.questionnaire?n("div",{staticClass:"fill"},[n("div",{staticClass:"header"},[n("el-page-header",{on:{back:function(){return e.$router.back()}}})],1),n("div",{staticClass:"QN__header"},[n("div",{staticClass:"QN__title"},[n("h1",[e._v(e._s(e.questionnaire.title))])]),n("div",{staticClass:"QN__description"},[n("p",[e._v(e._s(e.questionnaire.description))])])]),n("div",{staticClass:"QN__questions"},e._l(e.questionnaire.questions,(function(t,i){return n("div",{key:i,staticClass:"QN__question"},["radio"===t.type?n("div",[n("p",[e._v(e._s(t.title))]),n("el-radio-group",{model:{value:t.radio,callback:function(n){e.$set(t,"radio",n)},expression:"question.radio"}},e._l(t.labels,(function(t,i){return n("el-radio",{key:i,staticClass:"el-radio",attrs:{label:t}},[e._v(e._s(t))])})),1)],1):"checkbox"===t.type?n("div",[n("p",[e._v(e._s(t.title))]),n("el-checkbox-group",{model:{value:t.checkList,callback:function(n){e.$set(t,"checkList",n)},expression:"question.checkList"}},e._l(t.labels,(function(e,t){return n("el-checkbox",{key:t,staticClass:"el-checkbox",attrs:{label:e}})})),1)],1):"texteare"===t.type?n("div",{},[n("p",[e._v(e._s(t.title))]),n("el-input",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"question.value"}},[e._v("texteare")])],1):e._e()])})),0)]):e._e()},ge=[],xe={components:{},name:"Edit",props:{},computed:{questionnaire:function(){return this.$store.state.questionnaire}},methods:{}},ke=xe,ye=(n("9450"),Object(c["a"])(ke,_e,ge,!1,null,"4e662542",null)),Ce=ye.exports,we=n("9601");i["default"].use(f["a"]);var qe=[{path:"/",redirect:"/login"},{path:"/login",component:k},{path:"/home",component:z},{path:"/visualize",component:ce},{path:"/preview",component:Ce},{path:"/edit",component:ve},{path:"/fill",component:be["a"]},{path:"*",component:we["a"]}],Ie=new f["a"]({routes:qe}),Ee=n("c0d6"),$e=n("d56f"),Le=n("9ca8");i["default"].component("chart",Le["a"]),i["default"].component($e["a"].name,$e["a"]),i["default"].use(p.a),i["default"].config.productionTip=!1,new i["default"]({router:Ie,store:Ee["a"],render:function(e){return e(u)}}).$mount("#app")},"5a0d":function(e,t,n){},"60fd":function(e,t,n){"use strict";var i=n("92ac"),a=n.n(i);a.a},"64b7":function(e,t,n){"use strict";var i=n("e954"),a=n.n(i);a.a},"78d4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("1e04");function a(e){return i["a"].get("/get-qn",{params:e})}},"819b":function(e,t,n){},"85ec":function(e,t,n){},"8b4a":function(e,t,n){"use strict";var i=n("0f5e"),a=n.n(i);a.a},"92ac":function(e,t,n){},9450:function(e,t,n){"use strict";var i=n("5a0d"),a=n.n(i);a.a},9601:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view"},[n("h1",{staticClass:"code"},[e._v(" "+e._s(e.code)+" ")]),n("p",{staticClass:"text"},[e._v(e._s(e.text))])])},a=[],r={name:"ErrorPage",computed:{code:function(){return"404"},text:function(){return"Hello world! (๑•̀ㅂ•́)و✧"}}},s=r,o=(n("3f35"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"4a15e39e",null);t["a"]=c.exports},a9df:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.questionnaire?n("div",{staticClass:"fill"},[n("div",{staticClass:"QN__header"},[n("div",{staticClass:"QN__title"},[n("h1",[e._v(e._s(e.questionnaire.title))])]),n("div",{staticClass:"QN__description"},[n("p",[e._v(e._s(e.questionnaire.description))])])]),n("div",{staticClass:"QN__questions"},e._l(e.questionnaire.questions,(function(t,i){return n("div",{key:i,staticClass:"QN__question"},["radio"===t.type?n("div",[n("p",[e._v(e._s(t.title))]),n("el-radio-group",{model:{value:t.radio,callback:function(n){e.$set(t,"radio",n)},expression:"question.radio"}},e._l(t.labels,(function(t,i){return n("el-radio",{key:i,staticClass:"el-radio",attrs:{label:t}},[e._v(e._s(t))])})),1)],1):"checkbox"===t.type?n("div",[n("p",[e._v(e._s(t.title))]),n("el-checkbox-group",{model:{value:t.checkList,callback:function(n){e.$set(t,"checkList",n)},expression:"question.checkList"}},e._l(t.labels,(function(e,t){return n("el-checkbox",{key:t,staticClass:"el-checkbox",attrs:{label:e}})})),1)],1):"texteare"===t.type?n("div",{},[n("p",[e._v(e._s(t.title))]),n("el-input",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"question.value"}},[e._v("texteare")])],1):e._e()])})),0),n("el-button",{staticClass:"submmit__button",attrs:{type:"primary",size:"medium"},on:{click:e.submmit}},[e._v("提交")])],1):e._e()},a=[],r=(n("c975"),n("d3b7"),n("159b"),n("96cf"),n("78d4")),s=n("1e04");function o(e){return s["a"].post("/submit-qn",e)}var c=function(e){return String.fromCharCode(65+e)},l={name:"Fill",data:function(){return{qnId:"",questionnaire:null}},created:function(){this.qnId=this.$route.query["qnId"],console.log(this.qnId),this.loadQn()},methods:{loadQn:function(){var e,t,n,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(Object(r["a"])({qnId:this.qnId}));case 3:e=a.sent,t=e.code,n=e.msg,i=e.data,200===t?this.questionnaire=i:this.$message({type:"error",message:n}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.error(a.t0);case 11:case"end":return a.stop()}}),null,this,[[0,8]])},mergeQuestion:function(){var e={qnId:"",answers:[]},t=this.questionnaire,n=t.id,i=t.questions;return e.qnId=n,i.forEach((function(t){var n=t.type,i=t.labels,a=t.qId,r=t.radio,s=t.checkList,o={qId:a,checkList:[]};"radio"===n?-1!==i.indexOf(r)&&o.checkList.push(c(i.indexOf(r))):s.forEach((function(e){-1!==i.indexOf(e)&&o.checkList.push(c(i.indexOf(e)))})),e.answers.push(o)})),e},submmit:function(){var e,t,n,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=this.mergeQuestion(),a.prev=1,a.next=4,regeneratorRuntime.awrap(o(e));case 4:t=a.sent,n=t.code,i=t.msg,200===n?this.$message({type:"success",message:i}):this.$message({type:"error",message:i}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.error(a.t0);case 12:case"end":return a.stop()}}),null,this,[[1,9]])}}},u=l,d=(n("60fd"),n("2877")),p=Object(d["a"])(u,i,a,!1,null,"61121b48",null);t["a"]=p.exports},c0d6:function(e,t,n){"use strict";n("4de4");var i=n("2b0e"),a=n("2f62");i["default"].use(a["a"]),t["a"]=new a["a"].Store({state:{user:{userId:"",questionnaireList:[]},currentQnId:"",questionnaire:null,loading:!1},mutations:{SET_USER_ID:function(e,t){e.user.userId=t},SET_QUESTIONNAIRE_LIST:function(e,t){e.user.questionnaireList=t},SET_QUESTIONNAIRE:function(e,t){e.questionnaire=t},REMOVE_QUESTIONNAIRE_LIST:function(e,t){e.user.questionnaireList=e.user.questionnaireList.filter((function(e){return e.id!==t}))},SET_CURRENT_QNID:function(e,t){e.currentQnId=t},SET_LOADING:function(e,t){e.loading=t}}})},d7c2:function(e,t,n){},e8a4:function(e,t,n){},e954:function(e,t,n){},ef7d:function(e,t,n){"use strict";var i=n("e8a4"),a=n.n(i);a.a}});
//# sourceMappingURL=index.e6200f81.js.map